# Лабораторная работа №4: Геометрические фигуры на C++ с использованием шаблонов

## Описание проекта

Данный проект реализует систему для работы с геометрическими фигурами (квадрат, прямоугольник, трапеция) с использованием современных возможностей C++20: шаблоны, концепты, умные указатели и метапрограммирование.

## Требования

- Компилятор с поддержкой C++20 (GCC 10+, Clang 10+, MSVC 2019+)
- CMake 3.15+
- Google Test (автоматически загружается через CMake)

## Структура проекта
```
OOP4/
├── src/
│ ├── main.cpp # Демонстрационная программа
│ ├── point.h # Шаблон класса Point с концептом и PointContainer
│ ├── array.h # Шаблон динамического массива Array
│ ├── figure.h # Базовый абстрактный класс Figure
│ └── figures.h # Классы фигур: Square, Rectangle, Trapezoid
├── tests/
│ └── test_figures.cpp # Автоматические тесты Google Test (40 тестов)
├── CMakeLists.txt # Файл конфигурации CMake
└── README.md # Этот файл
```

## Ключевые особенности реализации

### 1. Использование концептов (C++20)

```cpp
template<class T>
concept Pointable = std::is_scalar_v<T>;

template<Pointable T>
class Point {
    // ...
};
```
### 2. Умные указатели и управление памятью
```
std::unique_ptr для хранения точек в PointContainer

std::shared_ptr для хранения фигур в массиве
```

* Запрещено копирование для PointContainer (только перемещение)
* Автоматическое управление памятью

### 3. Шаблонные классы
```
Point<T> - точка с координатами типа T

Figure<T> - абстрактный базовый класс для всех фигур

Array<T> - динамический массив с автоматическим расширением

Square<T>, Rectangle<T>, Trapezoid<T> - конкретные фигуры
```

### 4. Наследование и полиморфизм

```
Все фигуры наследуются от Figure<T> и реализуют:

center() - вычисление геометрического центра

operator double() - вычисление площади

Виртуальные функции для полиморфного поведения
```

## Сборка и запуск
### Сборка с MinGW
```bash
mkdir build && cd build
cmake -G "MinGW Makefiles" ..
mingw32-make
```
### Сборка с другими компиляторами
```bash
mkdir build && cd build
cmake ..
cmake --build .
```

### Запуск демонстрационной программы
```bash
./figures_main.exe
Программа запросит ввод координат для трех фигур и выведет их параметры.
```

### Запуск тестов
```bash
./test_figures.exe
Запуск конкретных тестов
```

```bash
./test_figures.exe --gtest_filter="SquareTest.*"
./test_figures.exe --gtest_filter="ArrayTest.*"
```

### Реализованные фигуры
- 1. Квадрат (Square)
- 4 точки (в порядке обхода)
- Центр: среднее арифметическое всех координат
- Площадь: сторона²
- 2. Прямоугольник (Rectangle)
- 4 точки (в порядке обхода)
- Центр: среднее арифметическое всех координат
- Площадь: длина × ширина
- 3. Трапеция (Trapezoid)
- 4 точки (в порядке обхода)
- Центр: среднее арифметическое всех координат
- Площадь: вычисляется по формуле Гаусса (метод шнурования)

### Тестирование
- Проект включает 40 автоматических тестов, покрывающих:
#### Тесты компонентов
```
PointTest (5 тестов): конструкторы, операторы

ArrayTest (13 тестов): основные операции, семантика перемещения

PointContainerTest (3 теста): добавление, доступ, перемещение
```

#### Тесты фигур
```
SquareTest (6 тестов): создание, центр, площадь, ввод/вывод

RectangleTest (5 тестов): создание, центр, площадь, ввод/вывод

TrapezoidTest (5 тестов): создание, центр, площадь, ввод/вывод
```

#### Интеграционные тесты
```
FigureContainerTest (3 теста): полиморфизм, вычисление площадей

IntegrationTest (2 теста): полный workflow, семантика перемещения

EdgeCaseTest (4 теста): граничные случаи, разные типы данных
```

### Примечания
- Все фигуры предполагаются выпуклыми
- Для корректной работы точки должны вводиться в порядке обхода
- Тип координат должен быть скалярным (int, double, float, etc.)
- Программа демонстрирует принципы ООП, шаблонного программирования и RAII

Автор
Студент Подгурский Александр
Группа М8О-203БВ-24
Лабораторная работа по курсу "Объектно-ориентированное программирование"
